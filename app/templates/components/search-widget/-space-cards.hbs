{{!-- At large screen size, we break the instructions out into their own card--}}
<div class="col-lg-4 d-none d-lg-block float-lg-left pr-lg-1">
  <div class="card space-card">
    <div class="card-header">{{fa-icon "compass"}}&ensp;Space</div>
    <div class="card-body">
      <p class="card-text">
        Use the draw controls on the map to draw a shape.
      </p>
      <p class="card-text text-muted small">
        If you draw a line, Plenar.io will search near it. If you draw a closed shape, Plenar.io will search
        within that shape.
      </p>
    </div>
  </div>
</div>

<div class="col-lg-8 float-lg-right pl-lg-1">
  <div class="card space-card">
    <div class="card-header d-lg-none">{{fa-icon "compass"}}&ensp;Space</div>
    <div class="row">
      {{!-- At small sizes, the instructions are a column within the map's card --}}
      <div class="col-md-4 d-lg-none">
        <div class="card-body">
          <p class="card-text">
            Use the draw controls on the map to draw a shape.
          </p>
          <p class="card-text text-muted small">
            If you draw a line, Plenar.io will search near it. If you draw a closed shape, Plenar.io will search
            within that shape.
          </p>
        </div>
      </div>
      <div class="col-md-8 col-lg-12">
        <div class="embed-responsive embed-responsive-1by1">
          {{#leaflet-map class="embed-responsive-item"
                         zoomAnimation=(not disableAnimations)
                         fadeAnimation=(not disableAnimations)
                         markerZoomAnimation=(not disableAnimations)
                         bounds=mapBounds
                         onLoad=(action "mapDidLoad")
                         onMoveend=(action "mapDidMove")
                         as |layers|}}
            {{layers.tile url="https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}{r}.png"}}
            {{layers.geojson geoJSON=nodeLocations pointToLayer=nodeLocationsPointToLayer clickable=false}}
            {{#if userShapeGeoJson}}
              {{layers.geojson geoJSON=userShapeGeoJson}}
            {{/if}}
            {{draw-control draw=(hash circle=false marker=false) onDrawCreated=(action "userDidDrawShape")}}
            <div class="leaflet-control-container">
              <div class="leaflet-top leaflet-right">
                <div class="leaflet-control leaflet-bar bg-white">
                  <p class="mb-0 p-1">
                    <span class="text-primary">{{fa-icon "circle"}}</span> Array of Things node
                  </p>
                </div>
              </div>
              <div class="leaflet-bottom leaflet-left">
                <div class="leaflet-control leaflet-bar">
                  {{one-way-select jumpToBounds
                                   class="form-control-sm custom-select small border-0 rounded-0"
                                   id="teleport-control"
                                   options=teleportCities
                                   optionLabelPath="label"
                                   optionTargetPath="bounds"
                                   prompt="âš‘  Jump to a place..."
                                   update=(action (mut jumpToBounds))}}
                </div>
              </div>
            </div>
          {{/leaflet-map}}
        </div>
      </div>
    </div>
  </div>
</div>
